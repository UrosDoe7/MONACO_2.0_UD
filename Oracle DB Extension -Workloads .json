{"version":17,"variables":[{"key":"Database_Host","type":"query","visible":true,"input":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| fields device.name\n| summarize distinctHosts=collectDistinct(device.name)\n| expand distinctHosts\n| sort distinctHosts asc","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"Instance","type":"query","visible":true,"input":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| fields instance.name\n| summarize distinctInstanceNames = collectDistinct(instance.name)\n| expand distinctInstanceNames\n| sort distinctInstanceNames","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"Schema","type":"query","visible":true,"input":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| fields schema\n| summarize distinctSchemas = collectDistinct(schema)\n| expand distinctSchemas\n| sort distinctSchemas","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"Container","type":"query","visible":true,"input":"fetch logs\n| fields container.name\n| summarize distinctContainers = collectDistinct(container.name)\n| expand distinctContainers\n| sort distinctContainers","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]}],"tiles":{"1":{"type":"data","title":"Database CPU Time by Instance and Host","query":"timeseries count=sum(`com.dynatrace.extension.sql-oracle.queries.cpuTime.count`),\nby:{instance.name,device.name}\n| filter in(instance.name, $Instance)\n| filter in(device.name, $Database_Host)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["instance.name","device.name"],"valueAxis":["interval"],"categoryAxisLabel":"instance.name,device.name","valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count"],"leftAxisDimensions":["instance.name","device.name"]},"hiddenLegendFields":["interval"],"xAxisIsLabelVisible":false,"xAxisLabel":"timeframe","leftYAxisSettings":{"isLabelVisible":true,"label":"DB CPU"}},"singleValue":{"showLabel":true,"label":"count(`com.dynatrace.extension.sql-oracle.queries.cpuTime.count`)","prefixIcon":"","recordField":"count(`com.dynatrace.extension.sql-oracle.queries.cpuTime.count`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"count"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["count"],"value":"sparkline","id":1741707292681}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["instance.name","device.name"],"dataMappings":{"value":"interval"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["instance.name","device.name"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"4":{"type":"data","title":"Queries with Largest Result Sets","query":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| filter in (instance.name, $Instance)\n| filter in (schema, $Schema)\n| filter in (container.name, $Container)\n| filter in (device.name, $Database_Host)\n| fieldsAdd rows_processedN = toLong(rows_processed)\n| summarize ResultSet = max(rows_processedN), by:{content}\n| sort ResultSet DESC\n| limit 10","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"single-color","categoryAxis":["content"],"categoryAxisLabel":"content","valueAxis":["ResultSet"],"valueAxisLabel":"ResultSet","tooltipVariant":"single"},"colorPalette":"blue-steel","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":[],"legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"RecordCount\"]":115.71875,"[\"content\"]":385},"columnTypeOverrides":[{"fields":["content"],"id":1733946963016,"value":"log-content"}],"sortBy":{"columnId":"[\"executions\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["content"],"dataMappings":{"value":"ResultSet"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"ResultSet","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["content"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"ResultSet"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"unitsOverrides":[{"identifier":null,"unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1733250705148}],"dataMapping":{"value":"ResultSet"}},"timeframe":{"tileTimeframeEnabled":true,"tileTimeframe":{"from":"-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"Queries with Greatest Elapsed Time","query":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| filter in (instance.name, $Instance)\n| filter in (schema, $Schema)\n| filter in (container.name, $Container)\n| filter in (device.name, $Database_Host)\n| fieldsAdd elapsed_timeN = toLong(elapsed_time)\n| summarize Elapsed = max(elapsed_timeN), by:{content}\n| sort Elapsed DESC\n| limit 10","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"single-color","categoryAxis":["content"],"categoryAxisLabel":"content","valueAxis":["Elapsed"],"valueAxisLabel":"Elapsed","tooltipVariant":"single","isCategoryLabelVisible":false,"isValueLabelVisible":false},"colorPalette":"purple-rain","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":[],"legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"RecordCount\"]":115.71875,"[\"content\"]":385},"columnTypeOverrides":[{"fields":["content"],"id":1733946964694,"value":"log-content"}],"sortBy":{"columnId":"[\"executions\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["content"],"dataMappings":{"value":"Elapsed"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"Elapsed","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["content"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"Elapsed"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"unitsOverrides":[{"identifier":"WaitTime","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1733250101295}],"dataMapping":{"value":"Elapsed"}},"timeframe":{"tileTimeframeEnabled":true,"tileTimeframe":{"from":"-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"Queries with Greatest CPU Time","query":"fetch logs\n| filter dt.extension.name == \"com.dynatrace.extension.sql-oracle\"\n| filter in (instance.name, $Instance)\n| filter in (schema, $Schema)\n| filter in (container.name, $Container)\n| filter in (device.name, $Database_Host)\n| fieldsAdd cpu_timeN = toLong(cpu_time)\n| summarize CPUtime = max(cpu_timeN), by:{content}\n| sort CPUtime DESC\n| limit 10","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"single-color","categoryAxis":["content"],"categoryAxisLabel":"content","valueAxis":["CPUtime"],"valueAxisLabel":"CPUtime","tooltipVariant":"grouped","isCategoryLabelVisible":false,"isValueLabelVisible":false},"colorPalette":"fireplace","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":[],"legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{"[\"RecordCount\"]":115.71875,"[\"content\"]":385},"columnTypeOverrides":[{"fields":["content"],"id":1733946964797,"value":"log-content"}],"sortBy":{"columnId":"[\"executions\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["content"],"dataMappings":{"value":"CPUtime"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"CPUtime","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["content"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"CPUtime"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"unitsOverrides":[{"identifier":"WaitTime","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1733250101295}],"dataMapping":{"value":"CPUtime"}},"timeframe":{"tileTimeframeEnabled":true,"tileTimeframe":{"from":"-30m","to":"now()"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"13":{"type":"data","title":"Total Sessions","query":"timeseries sum(`com.dynatrace.extension.sql-oracle.sessions.all`), filter: { matchesValue(device.name, { $Database_Host }) }\n| fieldsAdd `com.dynatrace.extension.sql-oracle.sessions.all` = \"sum(com.dynatrace.extension.sql-oracle.sessions.all)\"\n| fieldsAdd value.A = arrayAvg(`sum(\\`com.dynatrace.extension.sql-oracle.sessions.all\\`)`)","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.sessions.all","aggregation":"sum"},"filter":"device.name in (\"$Database_Host\") "}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["com.dynatrace.extension.sql-oracle.sessions.all"],"categoryAxisLabel":"com.dynatrace.extension.sql-oracle.sessions.all","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(`com.dynatrace.extension.sql-oracle.sessions.all`)"]},"legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":true,"label":"Total sessions"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"sum(`com.dynatrace.extension.sql-oracle.sessions.all`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(`com.dynatrace.extension.sql-oracle.sessions.all`)"],"value":"sparkline","id":1741302141712}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["com.dynatrace.extension.sql-oracle.sessions.all"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["com.dynatrace.extension.sql-oracle.sessions.all"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"value.A"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"14":{"type":"data","title":"Total Blocked Sessions","query":"timeseries sum(`com.dynatrace.extension.sql-oracle.sessions.blocked`), filter: { matchesValue(device.name, { $Database_Host }) }","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.sessions.blocked","aggregation":"sum"}}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval"],"categoryAxisLabel":"interval","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"log-level","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(`com.dynatrace.extension.sql-oracle.sessions.blocked`)"],"leftAxisDimensions":[]},"legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":true,"label":"Blocked Sessions"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"sum(`com.dynatrace.extension.sql-oracle.sessions.blocked`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(`com.dynatrace.extension.sql-oracle.sessions.blocked`)"],"value":"sparkline","id":1741302141512}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":[],"dataMappings":{},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"Total Wait Count","query":"timeseries avg(`com.dynatrace.extension.sql-oracle.wait.count`), filter: { matchesValue(device.name, { $Database_Host }) }","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.wait.count","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval"],"categoryAxisLabel":"interval","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(`com.dynatrace.extension.sql-oracle.wait.count`)"],"leftAxisDimensions":[]},"legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":true,"label":"Number of wait events by wait class"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"avg(`com.dynatrace.extension.sql-oracle.wait.count`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(`com.dynatrace.extension.sql-oracle.wait.count`)"],"value":"sparkline","id":1741302141815}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":[],"dataMappings":{},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"16":{"type":"markdown","title":"","content":"**Note:** Metrics in this section are filtered by database host, but not by other filters such as instance, schema, and container."},"17":{"type":"data","title":"Max Wait Time","query":"timeseries max(`com.dynatrace.extension.sql-oracle.wait.time.count`), filter: { matchesValue(device.name, { $Database_Host }) }","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.wait.time.count","aggregation":"max"}}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval"],"categoryAxisLabel":"interval","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"log-level","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["max(`com.dynatrace.extension.sql-oracle.wait.time.count`)"],"leftAxisDimensions":[]},"legend":{"hidden":true},"seriesOverrides":[{"seriesId":["max(`com.dynatrace.extension.sql-oracle.wait.time.count`)"],"override":{"geometry":"area"}}],"xAxisIsLabelVisible":false,"xAxisLabel":"timeframe","leftYAxisSettings":{"isLabelVisible":true,"label":"Seconds waited by wait class"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"max(`com.dynatrace.extension.sql-oracle.wait.time.count`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["max(`com.dynatrace.extension.sql-oracle.wait.time.count`)"],"value":"sparkline","id":1741302141458}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":[],"dataMappings":{},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"18":{"type":"data","title":"Deadlock Count","query":"timeseries avg(`com.dynatrace.extension.sql-oracle.sessions.deadlocks.count`), filter: { matchesValue(device.name, { $Database_Host }) }\n| fieldsAdd `com.dynatrace.extension.sql-oracle.sessions.deadlocks.count` = \"avg(com.dynatrace.extension.sql-oracle.sessions.deadlocks.count)\"\n| fieldsAdd value.A = arrayAvg(`avg(\\`com.dynatrace.extension.sql-oracle.sessions.deadlocks.count\\`)`)","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.sessions.deadlocks.count","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"barChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["com.dynatrace.extension.sql-oracle.sessions.deadlocks.count"],"categoryAxisLabel":"com.dynatrace.extension.sql-oracle.sessions.deadlocks.count","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"log-status","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(`com.dynatrace.extension.sql-oracle.sessions.deadlocks.count`)"]},"legend":{"hidden":true},"seriesOverrides":[{"seriesId":["max(`com.dynatrace.extension.sql-oracle.wait.time.count`)"],"override":{"geometry":"area"}}],"xAxisIsLabelVisible":false,"xAxisLabel":"timeframe","leftYAxisSettings":{"isLabelVisible":true,"label":"Deadlocks"}},"singleValue":{"showLabel":true,"label":"interval","prefixIcon":"","recordField":"interval","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"avg(`com.dynatrace.extension.sql-oracle.sessions.deadlocks.count`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(`com.dynatrace.extension.sql-oracle.sessions.deadlocks.count`)"],"value":"sparkline","id":1741302141782}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["com.dynatrace.extension.sql-oracle.sessions.deadlocks.count"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["com.dynatrace.extension.sql-oracle.sessions.deadlocks.count"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"19":{"type":"data","title":"Session Utilization","query":"timeseries avg(`com.dynatrace.extension.sql-oracle.limits.sessions_utilization`), filter: { matchesValue(device.name, { $Database_Host }) }","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.limits.sessions_utilization","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval"],"categoryAxisLabel":"interval","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(`com.dynatrace.extension.sql-oracle.limits.sessions_utilization`)"],"leftAxisDimensions":[]},"legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":true,"label":"Sessions utilization"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"avg(`com.dynatrace.extension.sql-oracle.limits.sessions_utilization`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(`com.dynatrace.extension.sql-oracle.limits.sessions_utilization`)"],"value":"sparkline","id":1741302141362}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":[],"dataMappings":{},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"interval"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"interval"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"20":{"type":"data","title":"Process Utilization","query":"timeseries avg(`com.dynatrace.extension.sql-oracle.limits.processes_utilization`), filter: { matchesValue(device.name, { $Database_Host }) }\n| fieldsAdd `com.dynatrace.extension.sql-oracle.limits.processes_utilization` = \"avg(com.dynatrace.extension.sql-oracle.limits.processes_utilization)\"\n| fieldsAdd value.A = arrayAvg(`avg(\\`com.dynatrace.extension.sql-oracle.limits.processes_utilization\\`)`)","queryConfig":{"version":"12.3.1","subQueries":[{"id":"A","isEnabled":true,"filter":"device.name in (\"$Database_Host\") ","datatype":"metrics","metric":{"key":"com.dynatrace.extension.sql-oracle.limits.processes_utilization","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["com.dynatrace.extension.sql-oracle.limits.processes_utilization"],"categoryAxisLabel":"com.dynatrace.extension.sql-oracle.limits.processes_utilization","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(`com.dynatrace.extension.sql-oracle.limits.processes_utilization`)"]},"legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{"isLabelVisible":true,"label":"Processes utilization"}},"singleValue":{"showLabel":true,"label":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","prefixIcon":"","recordField":"avg(`com.dynatrace.extension.sql-oracle.sessions.all`)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"avg(`com.dynatrace.extension.sql-oracle.limits.processes_utilization`)"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(`com.dynatrace.extension.sql-oracle.limits.processes_utilization`)"],"value":"sparkline","id":1741302141418}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["com.dynatrace.extension.sql-oracle.limits.processes_utilization"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["com.dynatrace.extension.sql-oracle.limits.processes_utilization"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"value.A"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"22":{"type":"data","title":"Oracle Error Codes","query":"fetch logs\n| filter contains(content, \"ORA-\")\n| filter NOT contains(content,\"DataGuard\") AND NOT contains(content,\"ORA-000000\") AND NOT contains(content,\"ORA-200[0-9][0-9]\")\n| parse content, \"DATA{0,32000} 'ORA-'WORD:errorcode':' SPACE? LD:error_string (punct | LF)\"\n| fieldsAdd oracle_error = concat(\"ORA-\", errorcode)\n| summarize count=count(), by: {oracle_error}\n| sort count DESC","visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["oracle_error"],"categoryAxisLabel":"oracle_error","valueAxis":["count"],"valueAxisLabel":"count","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["oracle_error"],"dataMappings":{"value":"count"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["oracle_error"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"count"},"icon":{"showIcon":false,"icon":""},"dataMapping":{"value":"count"}},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"1":{"x":0,"y":6,"w":24,"h":5},"4":{"x":0,"y":11,"w":24,"h":6},"11":{"x":0,"y":17,"w":24,"h":5},"12":{"x":0,"y":22,"w":24,"h":5},"13":{"x":8,"y":0,"w":6,"h":3},"14":{"x":8,"y":3,"w":6,"h":3},"15":{"x":19,"y":0,"w":5,"h":3},"16":{"x":4,"y":0,"w":4,"h":3},"17":{"x":19,"y":3,"w":5,"h":3},"18":{"x":4,"y":3,"w":4,"h":3},"19":{"x":14,"y":0,"w":5,"h":3},"20":{"x":14,"y":3,"w":5,"h":3},"22":{"x":0,"y":0,"w":4,"h":6}},"importedWithCode":false,"settings":{"defaultSegments":{"value":[],"enabled":true}}}